{{ define "content" }}
<div class="h-screen flex flex-col bg-slate-50">
    <!-- Header -->
    <div class="bg-white border-b border-slate-200 p-4 sticky top-0 z-10 flex items-center justify-between shadow-sm">
        <div className="flex items-center gap-4">
            <a href="/staff" class="text-slate-500 hover:text-slate-800 transition"><i
                    class="fas fa-arrow-left text-xl"></i></a>
            <h1
                class="text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent ml-4">
                Big Book</h1>
        </div>
        <div class="w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 shadow-sm">
            <i class="fas fa-book"></i>
        </div>
    </div>

    <div class="flex-1 overflow-y-auto p-4 space-y-6">
        <!-- Search -->
        <form method="GET" action="/staff/bigbook" class="relative">
            <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
            <input type="text" name="q" value="{{ .query }}" placeholder="Cari solusi atau masalah..."
                class="w-full bg-white pl-12 pr-4 py-4 rounded-2xl shadow-sm border border-slate-200 focus:ring-2 focus:ring-indigo-500 outline-none transition text-sm font-medium">
        </form>

        <!-- Official Articles -->
        <div>
            <h3 class="font-bold text-slate-800 text-lg mb-4 flex items-center gap-2">
                <i class="fas fa-certificate text-yellow-500"></i> Pengetahuan Resmi
            </h3>
            <div class="space-y-3">
                {{ range .articles }}
                <div
                    class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 hover:border-indigo-200 transition group cursor-pointer">
                    <h4 class="font-bold text-slate-700 group-hover:text-indigo-600 transition">{{ .Title }}</h4>
                    <p class="text-xs text-slate-400 mt-1 line-clamp-2">{{ .Content }}</p>
                    <div class="flex items-center gap-2 mt-3 text-[10px] text-slate-400">
                        <span class="bg-slate-100 px-2 py-1 rounded">{{ .Category }}</span>
                        <span>&bull; {{ .ViewsCount }} views</span>
                    </div>
                </div>
                {{ else }}
                <div class="text-center p-8 text-slate-400 bg-white rounded-xl border border-dashed border-slate-200">
                    <i class="fas fa-book-open text-3xl mb-2 text-slate-300"></i>
                    <p class="text-sm">Belum ada artikel resmi.</p>
                </div>
                {{ end }}
            </div>
        </div>

        <!-- Solutions from Tickets (Candidates) -->
        <div>
            <h3 class="font-bold text-slate-800 text-lg mb-4 flex items-center gap-2">
                <i class="fas fa-lightbulb text-indigo-500"></i> Solusi dari Tiket (Kandidat)
            </h3>
            <div class="space-y-3">
                {{ range .candidates }}
                <div class="bg-indigo-50 p-4 rounded-xl shadow-sm border border-indigo-100 hover:shadow-md transition">
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold text-indigo-900 text-sm">{{ .Subject }}</h4>
                        <span
                            class="text-[10px] bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded-full font-bold">RESOLVED</span>
                    </div>
                    <div class="bg-white p-3 rounded-lg border border-indigo-100 text-xs text-slate-600 italic mb-2">
                        "{{ .Solution }}"
                    </div>
                    <div class="flex justify-between items-center text-[10px] text-indigo-400">
                        <span>#{{ .TicketNumber }} &bull; {{ .ResolvedAt.Format "02 Jan 2006" }}</span>
                        <!-- Feature to promote to Article could go here -->
                        <button class="text-indigo-600 font-bold hover:underline">Jadikan Artikel <i
                                class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                {{ else }}
                <div class="p-4 text-center text-xs text-slate-400 italic">
                    Belum ada kandidat solusi.
                </div>
                {{ end }}
            </div>
        </div>
    </div>

    <!-- Navigation (Include if layout doesn't provide it, or rely on base layout) -->
    <!-- Assuming base layout handles nav for now, similar to dashboard -->
</div>
{{ end }}